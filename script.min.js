function showMap(o){var t=[o.coords.latitude,o.coords.longitude],n=o.coords.accuracy;initMap(t,n)}async function getLocName(o){return await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${o.latlng.lat}&lon=${o.latlng.lng}&localityLanguage=id`).then(o=>o.json()).then(o=>o)}async function setMark(o){let t=await getLocName(o);var n=t.display_name;return console.log(t),L.marker(o.latlng,{title:n}).bindPopup(`<b>${n}</b>`)}function initMap(o,t){async function n(o){let t=await setMark(o);return t.addTo(a).on("contextmenu",function(o){a.removeLayer(this),a.flyTo(e._latlng,14)}),t.addTo(a).on("click",function(o){a.flyTo(o.latlng),this.openPopup()}),a.flyTo(o.latlng,15),t.openPopup()}var a=L.map(target,{center:o,zoom:14,retina:!0}),e=L.circle(o,{color:"#0022ff",fillColor:"#00ccff",fillOpacity:1,radius:100}).bindPopup("<b>You Are Here</b>");L.circle(o,{color:"red",fillColor:"#0099ff",fillOpacity:.2,radius:t}).addTo(a);e.on("click",function(o){a.flyTo(o.latlng),this.openPopup()}),e.addTo(a),L.tileLayer("http://{s}.tile.osm.org/{z}/{x}/{y}.png",{}).addTo(a),a.on("click",n)}var target=document.querySelector("#map");navigator.geolocation?navigator.geolocation.getCurrentPosition(showMap):target.innerHTML=`<h1 style="padding-top:${screen.height/2.5}px; text-align:center;">No Geolocation Support</h1>`;